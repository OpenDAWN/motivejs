!function(){function a(b,c){for(var d,e,f=[],g=b.split("/"),h=0;null!=(e=g[h++]);)".."==e?f.pop():"."!=e&&f.push(e);if(f=f.join("/"),h=a,e=h.m[c||0],d=e[f+".js"]||e[f+"/index.js"]||e[f],g='Cannot require("'+f+'")',!d)throw Error(g);if((e=d.c)&&(d=h.m[c=e][b=d.m]),!d)throw Error(g);return d.exports||d(d,d.exports={},function(a){return h("."!=a.charAt(0)?a:b+"/../"+a,c)}),d.exports}a.m=[],a.m[0]={"src/chord/get_species_intervals.js":function(a){a.exports=function(){var a={five:["R","P5"],maj:["R","M3","P5"],min:["R","m3","P5"],aug:["R","M3","A5"],dim:["R","m3","d5"],sus2:["R","M2","P5"],sus4:["R","P4","P5"]},b={nine:["M9"],eleven:["M9","P11"],thirteen:["M9","P11","M13"]},c=/^(maj|min|mmin|m|aug|dim|alt|sus|\-)?((?:\d+)|(?:6\/9))?$/;return function(d){if(d in a)return a[d];if(""===d)return a.maj;if("5"===d)return a.five;if("m"===d||"-"===d)return a.min;if("sus"===d)return a.sus4;var e=[],f=c.exec(d),g=f[1]?f[1]:"",h=f[2]?f[2]:"";switch(g){case"":e="6/9"===h?e.concat(a.maj,["M6","M9"]):e.concat(a.maj,"6"===h?"M6":"m7");break;case"maj":e=e.concat(a.maj,"6"===h?"M6":"M7");break;case"min":case"m":case"-":e=e.concat(a.min,"6"===h?"M6":"m7");break;case"aug":e=e.concat(a.aug,"6"===h?"M6":"m7");break;case"dim":e=e.concat(a.dim,"d7");break;case"mmaj":e=e.concat(a.min,"M7")}switch(h){case"9":e=e.concat(b.nine);break;case"11":e=e.concat(b.eleven);break;case"13":e=e.concat(b.thirteen)}return e}}()},"src/chord/jazz.js":function(a,b,c){function d(a){var b=e(a).parse();if(!b)throw new Error("Invalid chord name.");var c=h(b.species),d=i(c,b.alterations);this.name=a,this.type="chord",this.root=f(b.root),this.formula=b.species+b.alterations,this.isSlash="/"===b.slash?!0:!1,this.bass=this.isSlash?f(b.bass):this.root,this.intervals=d,this.notes=j(this.intervals,this.root)}var e=c("../regex/validation/chord_name"),f=c("../note/note"),g=c("../utilities/transpose"),h=c("./get_species_intervals"),i=c("../palette/apply_alterations"),j=c("../palette/get_notes_from_interval_array");d.prototype.transpose=function(a,b){return new d(g(this.root,a,b).name+this.formula)},a.exports=function(a){return new d(a)}},"src/convert/accidental_to_alter.js":function(a,b,c){function d(a){if(!a)return 0;for(var b=0,c=0;c<a.length;c++)b+=e[a[c]];return b}var e=c("../primitives/operators");a.exports=d},"src/convert/alter_to_accidental.js":function(a){function b(a){if("undefined"==typeof a)throw new Error("Cannot convert alter to accidental, none given.");if(0===a||null===a)return"";for(var b="";0>a;)b+="b",a+=1;for(;a>1;)b+="x",a+=-2;for(;a>0;)b+="#",a+=-1;return b}a.exports=b},"src/convert/mtof.js":function(a){a.exports=function(a){return 440*Math.pow(2,(a-69)/12)}},"src/interval/interval.js":function(a,b,c){function d(a,b,c,d){var e=0,f=a.slice(0,1);switch(f){case"P":case"M":break;case"m":e-=1;break;case"A":e+=1;break;case"d":e-="M"===d?2:1}for(var h=0;h<a.slice(1).length;h++)"d"===a.slice(1)[h]?e-=1:"A"===a.slice(1)[h]&&(e+=1);return g[b-1]+e+12*c}function e(a){return 1===a||4===a||5===a?"P":"M"}var f=c("../regex/validation/interval_name"),g=[0,2,4,5,7,9,11],h=function(a){var b=f(a).parse();if(!b)throw new Error("Invalid interval name.");this.steps=b.size-1;var c=b.size>7?this.steps%7+1:b.size;return this.name=a,this.type="interval",this.quality=b.quality,this.size=b.size,this.normalized=this.quality+c.toString(10),this.species=e(c),this.octaves=Math.floor(this.size/7.001),this.semitones=d(this.quality,c,this.octaves,this.species),this};a.exports=function(a){return new h(a)}},"src/math/circle.js":function(a,b,c){var d=c("./modulo").modulo,e=function(a){return this.array=a,this.size=a.length,this};e.prototype.indexOf=function(a){return this.array.indexOf(a)},e.prototype.atIndex=function(a){return a=d(a,this.size),this.array[a]},a.exports=e},"src/math/modulo.js":function(a){function b(a,b){return a>=0?a%b:(a%b+b)%b}function c(a){return b(a,7)}function d(a){return b(a,12)}a.exports={modulo:b,mod7:c,mod12:d}},"src/motive.js":function(a,b,c){a.exports={version:c("../package.json").version,note:c("./note/note"),chord:c("./chord/jazz"),interval:c("./interval/interval"),palette:c("./palette/palette")}},"src/note/note.js":function(a,b,c){function d(a){var b;if("string"==typeof a)b=a;else{if("number"!=typeof a)throw new TypeError("Note name must be a string or number.");b=f.atIndex(a)}var c=e(b).parse();if(!c)throw new Error("Invalid note name.");return this.name=b,this.type="note",this.pitchClass=f.indexOf(c.step+c.accidental),this.parts={step:c.step,accidental:c.accidental},null!==c.octave&&(this.name=c.step+c.accidental,this.type="pitch",this.octave=c.octave,this.scientific=b,this.midi=f.indexOf(this.scientific),this.frequency=i(this.midi)),this}var e=c("../regex/validation/note_name"),f=c("../primitives/pitch_names"),g=c("../primitives/fifths"),h=c("../primitives/intervals"),i=c("../convert/mtof"),j=c("../utilities/transpose"),k=function(a){return"string"==typeof a?new d(a):a};d.prototype.isEquivalent=function(a){return a=k(a),this.name!==a.name?!1:"pitch"===this.type&&"pitch"===a.type&&this.octave!==a.octave?!1:!0},d.prototype.isEnharmonic=function(a){return a=k(a),this.pitchClass!==a.pitchClass?!1:"pitch"===this.type&&"pitch"===a.type&&Math.abs(this.midi-a.midi)>11?!1:!0},d.prototype.setOctave=function(a){if("number"!=typeof a)throw new TypeError("Octave must be a number.");this.octave=a,this.scientific=this.name+a.toString(10),this.midi=f.indexOf(this.scientific),this.frequency=i(this.midi),this.type="pitch"},d.prototype.transpose=function(a,b){return new d(j("pitch"===this.type?this.scientific:this.name,a,b))},d.prototype.intervalTo=function(a){return a=k(a),h.atIndex(g.indexOf(a.name)-g.indexOf(this.name))},d.prototype.intervalFrom=function(a){return a=k(a),h.atIndex(g.indexOf(this.name)-g.indexOf(a.name))},d.prototype.up=function(a){return this.transpose("up",a)},d.prototype.down=function(a){return this.transpose("down",a)},d.prototype.toString=function(){return this.name},a.exports=function(a){return new d(a)}},"src/palette/apply_alterations.js":function(a,b,c){var d=c("../regex/split_string_by_pattern"),e=c("./parsed_interval_array");a.exports=function(){function a(a){var b=8>a?a:a%7;return 1===b||4===b||5===b?"P"+a.toString(10):"M"+a.toString(10)}var b=/^(?:(?:add|sus|no)(?:\d+)|(?:sus|alt)|(?:n|b|\#|\+|\-)(?:\d+))/,c=function(a){var b=/(?:n|b|\#|\+|\-)(?:\d+)/;if(!b.test(a))return!1;var c=a.slice(0,1),d=a.slice(1);return"+"===c&&(c="#"),"-"===c&&(c="b"),"#"===c?"A"+d:"b"===c?"5"===d||"11"===d||"4"===d?"d"+d:"m"+d:"n"===c?"5"===d||"11"===d||"4"===d?"P"+d:"M"+d:void 0},f=function(a){return/sus/.test(a)?"susX":/add/.test(a)?"addX":/no/.test(a)?"noX":/alt/.test(a)?"alt":"binary"};return function(g,h){for(var i=new e(g),j=d(h,b),k=0;k<j.length;k++){var l=j[k];switch(f(l)){case"binary":var m=c(l);i.update(m);break;case"susX":i.remove(3),i.add("P4");break;case"addX":var n=parseInt(l.slice(3),10);i.add(a(n));break;case"noX":var o=parseInt(l.slice(2),10);i.remove(o);break;case"alt":i.update("d5"),i.add("A5"),i.update("m9"),i.add("A9"),i.update("m13")}}return i.unparse()}}()},"src/palette/get_notes_from_interval_array.js":function(a){a.exports=function(){return function(a,b){for(var c=[],d=0;d<a.length;d++)c.push("R"===a[d]?b:b.transpose("up",a[d]));return c}}()},"src/palette/palette.js":function(a){function b(a){this.notes=[],this.type="palette","undefined"!=typeof a&&this.add(a)}b.prototype.add=function(a){if("note"===a.type)return void this.notes.push(a);if("chord"!==a.type);else for(var b=0;b<a.notes.length;b++){for(var c=!1,d=0;d<this.notes.length;d++)if(this.notes[d].isEquivalent(a.notes[b])){c=!0;break}c||this.notes.push(a.notes[b])}},a.exports=function(a){return new b(a)}},"src/palette/parsed_interval_array.js":function(a,b,c){function d(a,b){var c=["d","m","P","M","A"];return a.size<b.size?-1:a.size>b.size?1:c.indexOf(a.quality)<c.indexOf(b.quality)?-1:c.indexOf(a.quality)>c.indexOf(b.quality)?1:0}function e(a){this.array=[];for(var b=0;b<a.length;b++)this.array.push("R"===a[b]?{quality:"P",size:1}:f(a[b]).parse())}var f=c("../regex/validation/interval_name");e.prototype.sort=function(){return this.array.sort(d)},e.prototype.add=function(a){for(var b=f(a).parse(),c=0;c<this.array.length;c++)if(this.array[c].size===b.size&&this.array[c].quality===b.quality)return;this.array.push(b),this.sort()},e.prototype.remove=function(a){for(var b=7>=a?a+7:a-7,c=[],d=0;d<this.array.length;d++)this.array[d].size!==a&&this.array[d].size!==b&&c.push(this.array[d]);this.array=c},e.prototype.update=function(a){var b=f(a).parse();this.remove(b.size),this.array.push(b),this.sort()},e.prototype.unparse=function(){this.sort();for(var a=[],b=0;b<this.array.length;b++){var c=this.array[b].quality+this.array[b].size;a.push("P1"===c?"R":c)}return a},a.exports=e},"src/primitives/fifths.js":function(a,b,c){var d=c("../math/circle"),e=c("../math/modulo"),f=c("../convert/alter_to_accidental"),g=c("../convert/accidental_to_alter"),h=new d(["F","C","G","D","A","E","B"]);h.indexOf=function(a){var b=a[0],c=a.slice(1),d=g(c),e=this.array.indexOf(b);return e+=this.size*d},h.atIndex=function(a){var b=Math.floor(a/this.array.length),c=f(b);return a=e.modulo(a,this.size),this.array[a]+c},a.exports=h},"src/primitives/intervals.js":function(a,b,c){var d=c("../math/circle"),e=c("../math/modulo"),f=c("../regex/validation/interval_name"),g=new d([4,1,5,2,6,3,7]);g.indexOf=function(a){var b=f(a).parse();if(!b)throw new Error("Invalid interval name.");var c=b.quality,d=b.size;d="U"===d?1:parseInt(d,10),d=7>=d?d:e.modulo(d,this.size);var g,h,i,j=this.array.indexOf(d)-1;return"P"===c||"M"===c?g=j:"m"===c?g=j-this.size:c.match(/A+/)?(h=c.match(/A+/)[0].length,g=j+this.size*h):c.match(/d+/)&&(i=c.match(/d+/)[0].length,g=1===d||4===d||5===d?j-this.size*i:j-(this.size+this.size*i)),g},g.atIndex=function(a){var b=a+1,c=Math.floor(b/this.size);b=e.modulo(b,this.size);var d=this.array[b].toString(10),f="";if(c>0)for(var g=0;c>g;g+=1)f+="A";else if(0===c)f=3>b?"P":"M";else if(-1===c)f=3>b?"d":"m";else if(-1>c){for(var h=-1;h>c;h-=1)f+="d";f+=3>b?"d":""}return f+d},a.exports=g},"src/primitives/operators.js":function(a){a.exports={b:-1,"#":1,x:2}},"src/primitives/pitch_names.js":function(a,b,c){var d=c("../math/circle"),e=c("../math/modulo"),f=c("../convert/accidental_to_alter"),g=c("../regex/validation/note_name"),h=new d(["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"]);h.indexOf=function(a){var b=g(a).parse();if(!b)throw new Error("Invalid pitch name.");var c=f(b.accidental),d=this.array.indexOf(b.step);return null===b.octave?e.mod12(d+c):d+c+this.size*(b.octave+1)},h.atIndex=function(a){var b=Math.floor(a/this.size)-1,c=e.mod12(a);return this.array[c]+b.toString(10)},a.exports=h},"src/primitives/steps.js":function(a){a.exports=["C","D","E","F","G","A","B"]},"src/regex/split_string_by_pattern.js":function(a){a.exports=function(a,b){for(var c=[];b.test(a);){var d=a.match(b);c.push(d[0]),a=a.slice(d[0].length)}return c}},"src/regex/validation/chord_name.js":function(a,b,c){var d=c("./validation_factory"),e=function(){var a=/^/,b=/([A-G](?:b+|\#+|x+)?)/,c=/((?:maj|min|sus|aug|dim|mmaj|m|\-)?(?:\d+)?(?:\/\d+)?)?/,e=/((?:(?:add|sus)(?:\d+)|(?:sus|alt)|(?:\#|\+|b|\-)(?:\d+))*)/,f=/(\/)?/,g=/([A-G](?:b+|\#+|x+)?)?/,h=/$/,i=new RegExp(a.source+b.source+c.source+e.source+f.source+g.source+h.source);return d("chord",i,function(a){return{root:a[1],species:a[2]?a[2]:"",alterations:a[3]?a[3]:"",slash:a[4]?a[4]:"",bass:a[5]?a[5]:""}})}();a.exports=function(a){return e(a)}},"src/regex/validation/interval_name.js":function(a,b,c){var d=c("./validation_factory"),e=function(){var a=/^(P|M|m|A+|d+)(\d+|U)$/;return d("interval",a,function(a){return{quality:a[1],size:parseInt(a[2],10)}})}();a.exports=function(a){return e(a)}},"src/regex/validation/note_name.js":function(a,b,c){var d=c("./validation_factory"),e=function(){var a=/^([A-G])(b+|\#+|x+)?(\-?[0-9]+)?$/;return d("note",a,function(a){return{step:a[1],accidental:a[2]?a[2]:"",octave:a[3]?parseInt(a[3],10):null}})}();a.exports=function(a){return e(a)}},"src/regex/validation/validation_factory.js":function(a){a.exports=function(a,b,c){return function(d){if("string"!=typeof d)throw new TypeError("Cannot validate "+a+". Input must be a string.");var e=function(){return d.match(b)?!0:!1};return{valid:e(),parse:function(){if(!e())return!1;var a=b.exec(d);return c(a)}}}}},"src/utilities/to_object.js":function(a){a.exports=function(a,b){if("string"==typeof a&&(a=b(a)),"object"!=typeof a)throw new TypeError("Input must be an object or string.");return a}},"src/utilities/transpose.js":function(a,b,c){function d(a,b,c){if("up"!==b&&"down"!==b)throw new Error('Transpose direction must be either "up" or "down".');var d=h(a).parse();if(!d)throw new Error("Invalid note name.");var j=i(c).parse();if(!j)throw new Error("Invalid interval name.");var k="up"===b?1:-1,l=f.atIndex(f.indexOf(d.step+d.accidental)+k*e.indexOf(c));if(null===d.octave)return l;var m=d.octave+k*Math.floor(j.size/8),n=j.size>7?j.size%7-1:j.size-1;return g.indexOf(d.step)+n>=7&&(m+=k),l+m.toString(10)}var e=c("../primitives/intervals"),f=c("../primitives/fifths"),g=c("../primitives/steps"),h=c("../regex/validation/note_name"),i=c("../regex/validation/interval_name");a.exports=d}},motive=a("src/motive.js")}();